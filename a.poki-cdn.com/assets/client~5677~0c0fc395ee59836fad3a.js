try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},i=(new e.Error).stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="2fe5a1ab-29e1-471c-a12f-b372ecd84cd0",e._sentryDebugIdIdentifier="sentry-dbid-2fe5a1ab-29e1-471c-a12f-b372ecd84cd0")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"e2666c180fa7bebc5f13e10d529fc7733e085335"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5677],{65677:(e,i,n)=>{n.r(i),n.d(i,{checkAutoRedirectEpic:()=>L,checkPrivacyPolicyEpic:()=>I,googleAnalyticsPrivacyEpic:()=>M,hideNotificationsOnNavigateEpic:()=>G,refreshCacheEpic$:()=>$,sendDeviceCapabilitiesEpic:()=>R,setViewportOrientationEpic:()=>S,showUserFeedbackEpic:()=>x,stateSyncEpic:()=>P});n(30882);var o=n(29079),t=n(61701),a=n(9336),l=n(81160),r=n(44240),c=n(56978),p=n(38975),d=n(76981),u=n(63720),s=n(62467),f=n(16126),g=n(36173),y=n(59099),v=n(8767),h=n(28452),w=n(42891),m=n(88800),b=n(23260),_=n(7696),E=n(28685),k=n(98708),A=n(90385),D=n(91323),N=n(15049),T=n(55509),O=n(46493),C=n(11865);n(95901);function S(e){var i;if("function"!=typeof(null===(i=window)||void 0===i?void 0:i.matchMedia))return t.w;const n=window.matchMedia("(orientation: portrait)"),p=(0,a.R)(window,"orientationchange").pipe((0,l.T)((()=>n.matches))),d=e.pipe((0,o.g)(w.Xy.type));return(0,r.h)(d,p).pipe((0,c.B)(100),(0,l.T)((()=>(0,w.nx)({orientation:n.matches?"portrait":"landscape"}))))}function I(e,i){return t.w}function L(e,i){var n;if(null===(n=window)||void 0===n||null===(n=n.location)||void 0===n||null===(n=n.hash)||void 0===n||!n.includes("#utm_source=redirect")||(0,D.DF)(i.value)===D.LJ.APP)return t.w;const a=e.pipe((0,o.g)(w.F8.type),(0,f.p)((()=>(0,w.Wv)(i.value)))),l=e.pipe((0,g.o)((()=>(0,N.GZ)(i.value)?(0,s.of)(t.w):e.pipe((0,o.g)(_.Se.type)))),(0,p.s)(1));return e.pipe((0,o.g)(w.Xy.type),(0,p.s)(1),(0,u.n)((()=>(0,r.h)(a,l))),(0,y.M)((()=>{var e,n;let o,a;const l=window.location.hash.replace("#utm_source=redirect-","")||"";window.location.hash="",5===l.length&&([o,a]=l.split("-"));const r=(0,A.nK)(i.value),c=r.find((e=>{var i;return(null==e||null===(i=e.href)||void 0===i?void 0:i.includes("poki.com/"))&&(null==e?void 0:e.lang)===o})),p=r.find((e=>{var i;return(null==e||null===(i=e.href)||void 0===i?void 0:i.includes("poki.com/"))&&(null==e?void 0:e.lang)===a}));if(!c||!p)return t.w;const d=(0,k.K)(i.value),u=`${d.auto_redirect_title.replace("[language]",p.languageName)}`,s=d.auto_redirect_message.replace("[language]",c.languageName),f=null===(e=d.auto_redirect_button)||void 0===e?void 0:e.replace("[language]",c.languageName);(0,O.F)({category:"page",action:"autoRedirectImpression",data:{from:c.languageName,to:p.languageName}}),null===(n=window)||void 0===n||null===(n=n.store)||void 0===n||n.dispatch((0,m.Gg)({notification:{title:u,titleIcon:{image:"https://a.poki-cdn.com/images/icon-world-v2.svg",width:22,height:22},childComponent:{name:"AutoRedirectNotification",props:{message:s,button:f,href:null==c?void 0:c.href,lang:null==c?void 0:c.lang}},autoExpire:1e4}}))})),(0,v.w)())}function M(e,i){return e.pipe((0,o.g)(w.Xy.type),(0,y.M)((()=>{console.info("%cðŸŽ® We`re hiring Frontend Developers @ Poki!",'color: #009cff; background: #002b50; font-family: "Terminal", monospace; padding: 6px; font-size: 12px;'),console.info("%cApply now or risk a lifetime of work on TODO apps",'color: #009cff; background: #002b50; font-family: "Terminal", monospace; padding: 6px; font-size: 12px;'),console.info("%chttps://jobs.poki.com/job/frontend-developer/",'color: #ffed85; background: #002b50; font-family: "Terminal", monospace; padding: 6px; font-size: 12px;');if((0,w.vo)(i.value))return;const e=(0,A.tM)(i.value),n=`https://${(0,D.Gd)(i.value).domain}${e}`;console.info(`%cGoogle Analytics is blocked by Poki, refer to our privacy statement (${n})`,"background:rgb(0, 156, 255);color:#fff")})),(0,v.w)())}function R(e,i){const a=(0,N.hv)(i.value),l=(0,w.Rd)(i.value);return!a||l>.5?t.w:e.pipe((0,o.g)(b.y.type),(0,p.s)(1),(0,d.c)(6e4),(0,y.M)((()=>{n.e(2294).then(n.bind(n,12294)).then((({default:e})=>{e()}))})),(0,v.w)())}function x(e,i){const n="user-satisfaction",a=(0,w.Rd)(i.value),r=(0,m.hk)(i.value,n),c=(0,w.wu)(i.value),u=(0,D.Gd)(i.value),s=a<.05,y=["AU","CA","GB","IE","NZ","US"].includes(c),v=3===u.id;if(!y||!v||r||!s)return t.w;(0,O.F)({category:"pps",action:"trigger"});const h=e.pipe((0,o.g)(w.Xy.type),(0,p.s)(1),(0,d.c)(36e4)),_=e.pipe((0,o.g)(b.y.type),(0,f.p)((()=>"game"!==(0,A.K5)(i.value))),(0,p.s)(1));return h.pipe((0,g.o)((()=>_)),(0,l.T)((()=>(0,m.Gg)({notification:{id:n,title:"Would you recommend Poki to your friends?",childComponent:{name:"UserSatisfaction",props:{notificationID:n}},muteAfterClose:!0}}))))}function G(e,i){return e.pipe((0,o.g)("@router/LOCATION_CHANGE"),(0,l.T)((()=>(0,E.L)(i.value))),(0,h.Z)((e=>e.filter((e=>e.navigateToClose)).map((e=>(0,m.oe)({id:e.id}))))))}function P(e,i){if("undefined"==typeof window)return t.w;const n=[],o=(0,a.R)(document,"visibilitychange").pipe((0,f.p)((()=>"hidden"===document.visibilityState))),l=e.pipe((0,f.p)((e=>T.D[e.type])),(0,y.M)((e=>{const{state:i,property:o}=T.D[e.type],t=`${i}/${o}`;n.includes(t)||n.push(t)})));return(0,r.h)(o.pipe((0,y.M)((()=>{n.forEach((e=>{const[n,o]=e.split("/"),t=i.value[n][o];(0,C.SO)(`state/${e}`,JSON.stringify(t))})),n.length=0}))),l).pipe((0,v.w)())}function $(e){return e.pipe((0,o.g)(w.Xy.type),(0,p.s)(1)).pipe((0,d.c)(864e5),(0,u.n)((()=>e.pipe((0,o.g)(b.y.type),(0,y.M)((()=>{window.location.reload()})),(0,v.w)()))))}}}]);
//# sourceMappingURL=client~5677~0c0fc395ee59836fad3a.js.map